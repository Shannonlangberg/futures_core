import{r as a,a as pt,R as ft,b as Ze}from"./vendor-b69f2a9f.js";import{S as bt,P as gt,W as vt,B as jt,a as ve,b as wt,A as Nt,c as yt}from"./three-0753d234.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();var Je={exports:{}},be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ct=a,kt=Symbol.for("react.element"),St=Symbol.for("react.fragment"),Et=Object.prototype.hasOwnProperty,Rt=Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_t={key:!0,ref:!0,__self:!0,__source:!0};function Ke(t,s,r){var n,l={},o=null,i=null;r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),s.ref!==void 0&&(i=s.ref);for(n in s)Et.call(s,n)&&!_t.hasOwnProperty(n)&&(l[n]=s[n]);if(t&&t.defaultProps)for(n in s=t.defaultProps,s)l[n]===void 0&&(l[n]=s[n]);return{$$typeof:kt,type:t,key:o,ref:i,props:l,_owner:Rt.current}}be.Fragment=St;be.jsx=Ke;be.jsxs=Ke;Je.exports=be;var e=Je.exports,we={},Oe=pt;we.createRoot=Oe.createRoot,we.hydrateRoot=Oe.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ae(){return ae=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ae.apply(this,arguments)}var H;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(H||(H={}));const Te="popstate";function Lt(t){t===void 0&&(t={});function s(n,l){let{pathname:o,search:i,hash:x}=n.location;return Ne("",{pathname:o,search:i,hash:x},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(n,l){return typeof l=="string"?l:me(l)}return Mt(s,r,null,t)}function P(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Ye(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Pt(){return Math.random().toString(36).substr(2,8)}function Be(t,s){return{usr:t.state,key:t.key,idx:s}}function Ne(t,s,r,n){return r===void 0&&(r=null),ae({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?te(s):s,{state:r,key:s&&s.key||n||Pt()})}function me(t){let{pathname:s="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function te(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(s.search=t.substr(n),t=t.substr(0,n)),t&&(s.pathname=t)}return s}function Mt(t,s,r,n){n===void 0&&(n={});let{window:l=document.defaultView,v5Compat:o=!1}=n,i=l.history,x=H.Pop,h=null,m=u();m==null&&(m=0,i.replaceState(ae({},i.state,{idx:m}),""));function u(){return(i.state||{idx:null}).idx}function c(){x=H.Pop;let b=u(),R=b==null?null:b-m;m=b,h&&h({action:x,location:j.location,delta:R})}function g(b,R){x=H.Push;let f=Ne(j.location,b,R);r&&r(f,b),m=u()+1;let d=Be(f,m),C=j.createHref(f);try{i.pushState(d,"",C)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;l.location.assign(C)}o&&h&&h({action:x,location:j.location,delta:1})}function k(b,R){x=H.Replace;let f=Ne(j.location,b,R);r&&r(f,b),m=u();let d=Be(f,m),C=j.createHref(f);i.replaceState(d,"",C),o&&h&&h({action:x,location:j.location,delta:0})}function w(b){let R=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof b=="string"?b:me(b);return f=f.replace(/ $/,"%20"),P(R,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,R)}let j={get action(){return x},get location(){return t(l,i)},listen(b){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(Te,c),h=b,()=>{l.removeEventListener(Te,c),h=null}},createHref(b){return s(l,b)},createURL:w,encodeLocation(b){let R=w(b);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:g,replace:k,go(b){return i.go(b)}};return j}var Fe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Fe||(Fe={}));function $t(t,s,r){return r===void 0&&(r="/"),At(t,s,r,!1)}function At(t,s,r,n){let l=typeof s=="string"?te(s):s,o=_e(l.pathname||"/",r);if(o==null)return null;let i=Ge(t);It(i);let x=null;for(let h=0;x==null&&h<i.length;++h){let m=Dt(o);x=qt(i[h],m,n)}return x}function Ge(t,s,r,n){s===void 0&&(s=[]),r===void 0&&(r=[]),n===void 0&&(n="");let l=(o,i,x)=>{let h={relativePath:x===void 0?o.path||"":x,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};h.relativePath.startsWith("/")&&(P(h.relativePath.startsWith(n),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(n.length));let m=D([n,h.relativePath]),u=r.concat(h);o.children&&o.children.length>0&&(P(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Ge(o.children,s,u,m)),!(o.path==null&&!o.index)&&s.push({path:m,score:zt(m,o.index),routesMeta:u})};return t.forEach((o,i)=>{var x;if(o.path===""||!((x=o.path)!=null&&x.includes("?")))l(o,i);else for(let h of Qe(o.path))l(o,i,h)}),s}function Qe(t){let s=t.split("/");if(s.length===0)return[];let[r,...n]=s,l=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return l?[o,""]:[o];let i=Qe(n.join("/")),x=[];return x.push(...i.map(h=>h===""?o:[o,h].join("/"))),l&&x.push(...i),x.map(h=>t.startsWith("/")&&h===""?"/":h)}function It(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:Vt(s.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ot=/^:[\w-]+$/,Tt=3,Bt=2,Ft=1,Ut=10,Wt=-2,Ue=t=>t==="*";function zt(t,s){let r=t.split("/"),n=r.length;return r.some(Ue)&&(n+=Wt),s&&(n+=Bt),r.filter(l=>!Ue(l)).reduce((l,o)=>l+(Ot.test(o)?Tt:o===""?Ft:Ut),n)}function Vt(t,s){return t.length===s.length&&t.slice(0,-1).every((n,l)=>n===s[l])?t[t.length-1]-s[s.length-1]:0}function qt(t,s,r){r===void 0&&(r=!1);let{routesMeta:n}=t,l={},o="/",i=[];for(let x=0;x<n.length;++x){let h=n[x],m=x===n.length-1,u=o==="/"?s:s.slice(o.length)||"/",c=We({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},u),g=h.route;if(!c&&m&&r&&!n[n.length-1].route.index&&(c=We({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},u)),!c)return null;Object.assign(l,c.params),i.push({params:l,pathname:D([o,c.pathname]),pathnameBase:Yt(D([o,c.pathnameBase])),route:g}),c.pathnameBase!=="/"&&(o=D([o,c.pathnameBase]))}return i}function We(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Ht(t.path,t.caseSensitive,t.end),l=s.match(r);if(!l)return null;let o=l[0],i=o.replace(/(.)\/+$/,"$1"),x=l.slice(1);return{params:n.reduce((m,u,c)=>{let{paramName:g,isOptional:k}=u;if(g==="*"){let j=x[c]||"";i=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const w=x[c];return k&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:i,pattern:t}}function Ht(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),Ye(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,x,h)=>(n.push({paramName:x,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,s?void 0:"i"),n]}function Dt(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Ye(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function _e(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Zt(t,s){s===void 0&&(s="/");let{pathname:r,search:n="",hash:l=""}=typeof t=="string"?te(t):t;return{pathname:r?r.startsWith("/")?r:Jt(r,s):s,search:Gt(n),hash:Qt(l)}}function Jt(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function je(t,s,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kt(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function Le(t,s){let r=Kt(t);return s?r.map((n,l)=>l===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Pe(t,s,r,n){n===void 0&&(n=!1);let l;typeof t=="string"?l=te(t):(l=ae({},t),P(!l.pathname||!l.pathname.includes("?"),je("?","pathname","search",l)),P(!l.pathname||!l.pathname.includes("#"),je("#","pathname","hash",l)),P(!l.search||!l.search.includes("#"),je("#","search","hash",l)));let o=t===""||l.pathname==="",i=o?"/":l.pathname,x;if(i==null)x=r;else{let c=s.length-1;if(!n&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),c-=1;l.pathname=g.join("/")}x=c>=0?s[c]:"/"}let h=Zt(l,x),m=i&&i!=="/"&&i.endsWith("/"),u=(o||i===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||u)&&(h.pathname+="/"),h}const D=t=>t.join("/").replace(/\/\/+/g,"/"),Yt=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Gt=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qt=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xt(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Xe=["post","put","patch","delete"];new Set(Xe);const es=["get",...Xe];new Set(es);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function re(){return re=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},re.apply(this,arguments)}const Me=a.createContext(null),ts=a.createContext(null),Z=a.createContext(null),ge=a.createContext(null),J=a.createContext({outlet:null,matches:[],isDataRoute:!1}),et=a.createContext(null);function ss(t,s){let{relative:r}=s===void 0?{}:s;se()||P(!1);let{basename:n,navigator:l}=a.useContext(Z),{hash:o,pathname:i,search:x}=st(t,{relative:r}),h=i;return n!=="/"&&(h=i==="/"?n:D([n,i])),l.createHref({pathname:h,search:x,hash:o})}function se(){return a.useContext(ge)!=null}function G(){return se()||P(!1),a.useContext(ge).location}function tt(t){a.useContext(Z).static||a.useLayoutEffect(t)}function $e(){let{isDataRoute:t}=a.useContext(J);return t?ps():as()}function as(){se()||P(!1);let t=a.useContext(Me),{basename:s,future:r,navigator:n}=a.useContext(Z),{matches:l}=a.useContext(J),{pathname:o}=G(),i=JSON.stringify(Le(l,r.v7_relativeSplatPath)),x=a.useRef(!1);return tt(()=>{x.current=!0}),a.useCallback(function(m,u){if(u===void 0&&(u={}),!x.current)return;if(typeof m=="number"){n.go(m);return}let c=Pe(m,JSON.parse(i),o,u.relative==="path");t==null&&s!=="/"&&(c.pathname=c.pathname==="/"?s:D([s,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[s,n,i,o,t])}function st(t,s){let{relative:r}=s===void 0?{}:s,{future:n}=a.useContext(Z),{matches:l}=a.useContext(J),{pathname:o}=G(),i=JSON.stringify(Le(l,n.v7_relativeSplatPath));return a.useMemo(()=>Pe(t,JSON.parse(i),o,r==="path"),[t,i,o,r])}function rs(t,s){return ns(t,s)}function ns(t,s,r,n){se()||P(!1);let{navigator:l}=a.useContext(Z),{matches:o}=a.useContext(J),i=o[o.length-1],x=i?i.params:{};i&&i.pathname;let h=i?i.pathnameBase:"/";i&&i.route;let m=G(),u;if(s){var c;let b=typeof s=="string"?te(s):s;h==="/"||(c=b.pathname)!=null&&c.startsWith(h)||P(!1),u=b}else u=m;let g=u.pathname||"/",k=g;if(h!=="/"){let b=h.replace(/^\//,"").split("/");k="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=$t(t,{pathname:k}),j=ds(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},x,b.params),pathname:D([h,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:D([h,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return s&&j?a.createElement(ge.Provider,{value:{location:re({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:H.Pop}},j):j}function ls(){let t=xs(),s=Xt(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},s),r?a.createElement("pre",{style:l},r):null,o)}const is=a.createElement(ls,null);class os extends a.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?a.createElement(J.Provider,{value:this.props.routeContext},a.createElement(et.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cs(t){let{routeContext:s,match:r,children:n}=t,l=a.useContext(Me);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(J.Provider,{value:s},n)}function ds(t,s,r,n){var l;if(s===void 0&&(s=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,x=(l=r)==null?void 0:l.errors;if(x!=null){let u=i.findIndex(c=>c.route.id&&(x==null?void 0:x[c.route.id])!==void 0);u>=0||P(!1),i=i.slice(0,Math.min(i.length,u+1))}let h=!1,m=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(m=u),c.route.id){let{loaderData:g,errors:k}=r,w=c.route.loader&&g[c.route.id]===void 0&&(!k||k[c.route.id]===void 0);if(c.route.lazy||w){h=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((u,c,g)=>{let k,w=!1,j=null,b=null;r&&(k=x&&c.route.id?x[c.route.id]:void 0,j=c.route.errorElement||is,h&&(m<0&&g===0?(fs("route-fallback",!1),w=!0,b=null):m===g&&(w=!0,b=c.route.hydrateFallbackElement||null)));let R=s.concat(i.slice(0,g+1)),f=()=>{let d;return k?d=j:w?d=b:c.route.Component?d=a.createElement(c.route.Component,null):c.route.element?d=c.route.element:d=u,a.createElement(cs,{match:c,routeContext:{outlet:u,matches:R,isDataRoute:r!=null},children:d})};return r&&(c.route.ErrorBoundary||c.route.errorElement||g===0)?a.createElement(os,{location:r.location,revalidation:r.revalidation,component:j,error:k,children:f(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):f()},null)}var at=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(at||{}),he=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(he||{});function us(t){let s=a.useContext(Me);return s||P(!1),s}function ms(t){let s=a.useContext(ts);return s||P(!1),s}function hs(t){let s=a.useContext(J);return s||P(!1),s}function rt(t){let s=hs(),r=s.matches[s.matches.length-1];return r.route.id||P(!1),r.route.id}function xs(){var t;let s=a.useContext(et),r=ms(he.UseRouteError),n=rt(he.UseRouteError);return s!==void 0?s:(t=r.errors)==null?void 0:t[n]}function ps(){let{router:t}=us(at.UseNavigateStable),s=rt(he.UseNavigateStable),r=a.useRef(!1);return tt(()=>{r.current=!0}),a.useCallback(function(l,o){o===void 0&&(o={}),r.current&&(typeof l=="number"?t.navigate(l):t.navigate(l,re({fromRouteId:s},o)))},[t,s])}const ze={};function fs(t,s,r){!s&&!ze[t]&&(ze[t]=!0)}function bs(t,s){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function gs(t){let{to:s,replace:r,state:n,relative:l}=t;se()||P(!1);let{future:o,static:i}=a.useContext(Z),{matches:x}=a.useContext(J),{pathname:h}=G(),m=$e(),u=Pe(s,Le(x,o.v7_relativeSplatPath),h,l==="path"),c=JSON.stringify(u);return a.useEffect(()=>m(JSON.parse(c),{replace:r,state:n,relative:l}),[m,c,l,r,n]),null}function T(t){P(!1)}function vs(t){let{basename:s="/",children:r=null,location:n,navigationType:l=H.Pop,navigator:o,static:i=!1,future:x}=t;se()&&P(!1);let h=s.replace(/^\/*/,"/"),m=a.useMemo(()=>({basename:h,navigator:o,static:i,future:re({v7_relativeSplatPath:!1},x)}),[h,x,o,i]);typeof n=="string"&&(n=te(n));let{pathname:u="/",search:c="",hash:g="",state:k=null,key:w="default"}=n,j=a.useMemo(()=>{let b=_e(u,h);return b==null?null:{location:{pathname:b,search:c,hash:g,state:k,key:w},navigationType:l}},[h,u,c,g,k,w,l]);return j==null?null:a.createElement(Z.Provider,{value:m},a.createElement(ge.Provider,{children:r,value:j}))}function js(t){let{children:s,location:r}=t;return rs(ye(s),r)}new Promise(()=>{});function ye(t,s){s===void 0&&(s=[]);let r=[];return a.Children.forEach(t,(n,l)=>{if(!a.isValidElement(n))return;let o=[...s,l];if(n.type===a.Fragment){r.push.apply(r,ye(n.props.children,o));return}n.type!==T&&P(!1),!n.props.index||!n.props.children||P(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=ye(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ce(){return Ce=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ce.apply(this,arguments)}function ws(t,s){if(t==null)return{};var r={},n=Object.keys(t),l,o;for(o=0;o<n.length;o++)l=n[o],!(s.indexOf(l)>=0)&&(r[l]=t[l]);return r}function Ns(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ys(t,s){return t.button===0&&(!s||s==="_self")&&!Ns(t)}const Cs=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ks="6";try{window.__reactRouterVersion=ks}catch{}const Ss="startTransition",Ve=ft[Ss];function Es(t){let{basename:s,children:r,future:n,window:l}=t,o=a.useRef();o.current==null&&(o.current=Lt({window:l,v5Compat:!0}));let i=o.current,[x,h]=a.useState({action:i.action,location:i.location}),{v7_startTransition:m}=n||{},u=a.useCallback(c=>{m&&Ve?Ve(()=>h(c)):h(c)},[h,m]);return a.useLayoutEffect(()=>i.listen(u),[i,u]),a.useEffect(()=>bs(n),[n]),a.createElement(vs,{basename:s,children:r,location:x.location,navigationType:x.action,navigator:i,future:n})}const Rs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_s=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=a.forwardRef(function(s,r){let{onClick:n,relative:l,reloadDocument:o,replace:i,state:x,target:h,to:m,preventScrollReset:u,viewTransition:c}=s,g=ws(s,Cs),{basename:k}=a.useContext(Z),w,j=!1;if(typeof m=="string"&&_s.test(m)&&(w=m,Rs))try{let d=new URL(window.location.href),C=m.startsWith("//")?new URL(d.protocol+m):new URL(m),L=_e(C.pathname,k);C.origin===d.origin&&L!=null?m=L+C.search+C.hash:j=!0}catch{}let b=ss(m,{relative:l}),R=Ls(m,{replace:i,state:x,target:h,preventScrollReset:u,relative:l,viewTransition:c});function f(d){n&&n(d),d.defaultPrevented||R(d)}return a.createElement("a",Ce({},g,{href:w||b,onClick:j||o?n:f,ref:r,target:h}))});var qe;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qe||(qe={}));var He;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(He||(He={}));function Ls(t,s){let{target:r,replace:n,state:l,preventScrollReset:o,relative:i,viewTransition:x}=s===void 0?{}:s,h=$e(),m=G(),u=st(t,{relative:i});return a.useCallback(c=>{if(ys(c,r)){c.preventDefault();let g=n!==void 0?n:me(m)===me(u);h(t,{replace:g,state:l,preventScrollReset:o,relative:i,viewTransition:x})}},[m,h,u,n,l,r,t,o,i,x])}function Ps({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ms=a.forwardRef(Ps),$s=Ms;function As({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Is=a.forwardRef(As),De=Is;function Os({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Ts=a.forwardRef(Os),Bs=Ts;function Fs({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Us=a.forwardRef(Fs),Ws=Us;function zs({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Vs=a.forwardRef(zs),qs=Vs;function Hs({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Ds=a.forwardRef(Hs),nt=Ds;function Zs({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Js=a.forwardRef(Zs),pe=Js;function Ks({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Ys=a.forwardRef(Ks),Gs=Ys;function Qs({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Xs=a.forwardRef(Qs),lt=Xs;function ea({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const ta=a.forwardRef(ea),ke=ta;function sa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"}))}const aa=a.forwardRef(sa),ra=aa;function na({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const la=a.forwardRef(na),it=la;function ia({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const oa=a.forwardRef(ia),ca=oa;function da({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ua=a.forwardRef(da),ma=ua;function ha({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3v1.5M3 21v-6m0 0 2.77-.693a9 9 0 0 1 6.208.682l.108.054a9 9 0 0 0 6.086.71l3.114-.732a48.524 48.524 0 0 1-.005-10.499l-3.11.732a9 9 0 0 1-6.085-.711l-.108-.054a9 9 0 0 0-6.208-.682L3 4.5M3 15V4.5"}))}const xa=a.forwardRef(ha),pa=xa;function fa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const ba=a.forwardRef(fa),Se=ba;function ga({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const va=a.forwardRef(ga),ja=va;function wa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Na=a.forwardRef(wa),ya=Na;function Ca({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const ka=a.forwardRef(Ca),Sa=ka;function Ea({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const Ra=a.forwardRef(Ea),_a=Ra;function La({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const Pa=a.forwardRef(La),ot=Pa;function Ma({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const $a=a.forwardRef(Ma),ct=$a;function Aa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Ia=a.forwardRef(Aa),dt=Ia;function Oa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Ta=a.forwardRef(Oa),Ba=Ta;function Fa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ua=a.forwardRef(Fa),ne=Ua;function Wa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const za=a.forwardRef(Wa),ut=za;function Va({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const qa=a.forwardRef(Va),Ha=qa;function Da({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Za=a.forwardRef(Da),mt=Za;function Ja({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ka=a.forwardRef(Ja),fe=Ka;function Ya({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Ga=a.forwardRef(Ya),ht=Ga;function Qa({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Xa=a.forwardRef(Qa),Ee=Xa;function er({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const tr=a.forwardRef(er),sr=tr;function ar({title:t,titleId:s,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":s},r),t?a.createElement("title",{id:s},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rr=a.forwardRef(ar),Re=rr,F=({children:t})=>{const[s,r]=a.useState(!1),[n,l]=a.useState(!1),[o,i]=a.useState("user"),[x,h]=a.useState(""),m=G();a.useEffect(()=>{(async()=>{try{const b=await(await fetch("/api/session")).json();b.authenticated&&(i(b.role||"user"),h(b.full_name||"User"),console.log("User session data:",b))}catch(j){console.error("Error fetching session data:",j)}})()},[]);const c=(()=>[{name:"Dashboard",href:"/dashboard",icon:ja,roles:["admin","senior_leader","campus_pastor"]},{name:"Input",href:"/",icon:ra,roles:["admin","senior_leader","campus_pastor","pastor","finance"]},{name:"Pulse",href:"/query",icon:lt,roles:["admin","senior_leader","campus_pastor"]},{name:"Heartbeat",href:"/heartbeat",icon:Se,roles:["admin","senior_leader","campus_pastor"]},{name:"Passport",href:"/journey",icon:fe,roles:["admin","senior_leader","campus_pastor"]}].filter(j=>j.roles.includes(o)))(),g=()=>{const w=[{name:"Notifications",href:"/settings/notifications",icon:nt,show:!0},{name:"Profile",href:"/settings/profile",icon:fe,show:!0}];return o==="admin"&&w.push({name:"Users",href:"/users",icon:ht,show:!0},{name:"Campuses",href:"/campuses",icon:pe,show:!0},{name:"Security",href:"/settings/security",icon:ut,show:!0}),w.filter(j=>j.show)},k=async()=>{try{await fetch("/logout",{method:"GET",credentials:"include"}),window.location.href="/login"}catch(w){console.error("Logout error:",w),window.location.href="/login"}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),e.jsx("div",{className:`
        fixed inset-y-0 left-0 z-50 w-64 transform transition-transform duration-300 ease-in-out
        ${s?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        bg-slate-900 border-r border-slate-700/50
      `,children:e.jsxs("div",{className:"flex h-full flex-col",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"FC"})}),e.jsx("span",{className:"text-white font-semibold text-lg",children:"Futures Core"})]}),e.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1 rounded-md text-slate-400 hover:text-white hover:bg-slate-800",children:e.jsx(Re,{className:"h-5 w-5"})})]}),e.jsxs("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[c.map(w=>{const j=m.pathname===w.href;return e.jsxs(xe,{to:w.href,className:`
                    flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200
                    ${j?"bg-gradient-to-r from-blue-600/20 to-purple-600/20 text-white border border-blue-500/30 shadow-lg shadow-blue-500/20":"text-slate-300 hover:text-white hover:bg-slate-800/50"}
                  `,onClick:()=>r(!1),children:[e.jsx(w.icon,{className:`mr-3 h-5 w-5 ${j?"text-blue-400":"text-slate-400"}`}),w.name]},w.name)}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>l(!n),className:`
                  w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200
                  ${n?"bg-gradient-to-r from-blue-600/20 to-purple-600/20 text-white border border-blue-500/30 shadow-lg shadow-blue-500/20":"text-slate-300 hover:text-white hover:bg-slate-800/50"}
                `,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(it,{className:`mr-3 h-5 w-5 ${n?"text-blue-400":"text-slate-400"}`}),"Settings"]}),e.jsx(ke,{className:`h-4 w-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&e.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-lg z-10",children:g().map(w=>{const j=m.pathname===w.href;return e.jsxs(xe,{to:w.href,className:`
                          flex items-center px-4 py-3 text-sm font-medium transition-all duration-200
                          ${j?"bg-blue-600/20 text-blue-400":"text-slate-300 hover:text-white hover:bg-slate-700/50"}
                        `,onClick:()=>{l(!1),r(!1)},children:[e.jsx(w.icon,{className:`mr-3 h-5 w-5 ${j?"text-blue-400":"text-slate-400"}`}),w.name]},w.name)})})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-700/50 space-y-3",children:[e.jsxs("div",{className:"px-4 py-2 bg-slate-800/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-slate-300 font-medium",children:x}),e.jsx("div",{className:"text-xs text-slate-500 capitalize",children:o})]}),e.jsxs("button",{onClick:k,className:"w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 text-red-300 hover:text-red-200 hover:bg-red-900/20",children:[e.jsx(De,{className:"mr-3 h-5 w-5"}),"Logout"]}),e.jsx("div",{className:"text-xs text-slate-500 text-center",children:"Futures Core"})]})]})}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsxs("div",{className:"lg:hidden flex items-center justify-between p-4 border-b border-slate-700/50",children:[e.jsx("button",{onClick:()=>r(!0),className:"p-2 rounded-md text-slate-400 hover:text-white hover:bg-slate-800",children:e.jsx(qs,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-white font-semibold",children:"Futures Core"}),e.jsx("button",{onClick:k,className:"p-2 rounded-md text-red-400 hover:text-red-300 hover:bg-red-900/20",children:e.jsx(De,{className:"h-5 w-5"})})]}),e.jsx("main",{className:"p-6",children:t})]})]})},nr=()=>{const[t,s]=a.useState(""),[r,n]=a.useState(""),[l,o]=a.useState(!1),[i,x]=a.useState(""),[h,m]=a.useState(!1);$e();const u=async c=>{c.preventDefault(),o(!0),x("");try{const g=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({username:t,password:r}),credentials:"include"}),k=await g.json();g.ok&&k.success?window.location.href="/dashboard":x(k.error||"Invalid username or password")}catch(g){console.error("Login error:",g),x("Login failed. Please try again.")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 shadow-xl shadow-blue-500/25",children:e.jsx("span",{className:"text-white font-bold text-3xl",children:"FC"})}),e.jsx("h1",{className:"text-4xl font-bold text-white mb-3",children:"Futures Core"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Futures Core"})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 shadow-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-slate-400",children:"Sign in to access your dashboard"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-slate-300 mb-3",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(Ee,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"block w-full pl-12 pr-4 py-4 border border-slate-600 rounded-xl bg-slate-700/50 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"Enter your username",value:t,onChange:c=>s(c.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-3",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(ya,{className:"h-5 w-5 text-slate-400"})}),e.jsx("input",{id:"password",name:"password",type:h?"text":"password",required:!0,className:"block w-full pl-12 pr-12 py-4 border border-slate-600 rounded-xl bg-slate-700/50 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-base",placeholder:"Enter your password",value:r,onChange:c=>n(c.target.value)}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center",onClick:()=>m(!h),children:h?e.jsx(ca,{className:"h-5 w-5 text-slate-400 hover:text-slate-300 transition-colors"}):e.jsx(ma,{className:"h-5 w-5 text-slate-400 hover:text-slate-300 transition-colors"})})]})]}),i&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-xl p-4",children:e.jsx("p",{className:"text-red-400 text-sm font-medium",children:i})}),e.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-4 px-6 border border-transparent rounded-xl text-base font-semibold text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30",children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"mt-8 p-6 bg-slate-700/30 rounded-xl border border-slate-600/50",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Test Accounts"}),e.jsxs("div",{className:"space-y-2 text-xs text-slate-400",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"testuser"}),e.jsx("span",{className:"text-slate-500",children:"futures2025"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"admin"}),e.jsx("span",{className:"text-slate-500",children:"futures2025"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"ps_ashley"}),e.jsx("span",{className:"text-slate-500",children:"futures2025"})]})]})]})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-xs text-slate-500",children:" 2025 Futures Church. All rights reserved."})})]})})},lr=()=>{var v,$,q,K,W,Y,Q,I,O,le,ie,X,oe,ce,de,ue;const[t,s]=a.useState(null),[r,n]=a.useState(!0),[l,o]=a.useState("all_campuses"),[i,x]=a.useState("last_7_days"),[h,m]=a.useState([]),[u,c]=a.useState(!1),[g,k]=a.useState(null),[w,j]=a.useState(!1),[b,R]=a.useState(""),[f,d]=a.useState("");a.useEffect(()=>{C(),L()},[l,i,b,f]);const C=async()=>{try{const p=await(await fetch("/api/campuses",{credentials:"include"})).json();p.campuses&&(m(p.campuses),p.default&&l==="all_campuses"&&o(p.default))}catch(S){console.error("Error fetching campuses:",S)}},L=async()=>{try{n(!0);let S=`/api/dashboard/data?campus=${l}&date_filter=${i}`;i==="custom"&&b&&f&&(S+=`&custom_start_date=${b}&custom_end_date=${f}`);const p=await fetch(S,{credentials:"include"});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const _=await p.json();s(_)}catch(S){console.error("Error fetching dashboard data:",S),s({stats:{},chart_data:{attendance_labels:[],attendance_values:[]}})}finally{n(!1)}},M=S=>{k(S),c(!0)},A=S=>t!=null&&t.stats?{total_attendance:{title:"Total Attendance Breakdown",items:[{label:"Total Attendance",value:t.stats.total_attendance}]},new_people:{title:"New People Breakdown",items:[{label:"First Time Visitors",value:t.stats.first_time_visitors||0},{label:"Visitors",value:t.stats.visitors||0},{label:"Total New People",value:t.stats.total_new_people}]},new_christians:{title:"New Christians Breakdown",items:[{label:"First Time Christians",value:t.stats.first_time_christians||0},{label:"Rededications",value:t.stats.rededications||0},{label:"Total New Christians",value:t.stats.total_new_christians}]},youth_attendance:{title:"Youth Breakdown",items:[{label:"Youth Attendance",value:t.stats.youth_attendance||0},{label:"Youth New People",value:t.stats.youth_new_people||0},{label:"Youth Salvations",value:t.stats.youth_salvations||0}]},kids_total:{title:"Kids Breakdown",items:[{label:"Kids Attendance",value:t.stats.kids_attendance||0},{label:"New Kids",value:t.stats.new_kids||0},{label:"Kids Leaders",value:t.stats.kids_leaders||0},{label:"New Kids Salvations",value:t.stats.new_kids_salvations||0}]}}[S]||{title:"Breakdown",items:[]}:{},B=S=>{x(S),S!=="custom"?(R(""),d("")):j(!0)},E=()=>{b&&f&&(x("custom"),j(!1))},N=()=>{if(i==="custom"&&b&&f){const S=new Date(b).toLocaleDateString(),p=new Date(f).toLocaleDateString();return`${S} - ${p}`}return null},y=[{title:"Total Attendance",value:((v=t==null?void 0:t.stats)==null?void 0:v.total_attendance)||0,average:(($=t==null?void 0:t.stats)==null?void 0:$.avg_attendance)||0,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",statType:"total_attendance"},{title:"New People",value:((q=t==null?void 0:t.stats)==null?void 0:q.total_new_people)||0,average:((K=t==null?void 0:t.stats)==null?void 0:K.avg_new_people)||0,color:"from-green-500 to-green-600",bgColor:"bg-green-500/10",borderColor:"border-green-500/20",statType:"new_people"},{title:"New Christians",value:((W=t==null?void 0:t.stats)==null?void 0:W.total_new_christians)||0,average:((Y=t==null?void 0:t.stats)==null?void 0:Y.avg_new_christians)||0,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/20",statType:"new_christians"},{title:"Youth Attendance",value:((Q=t==null?void 0:t.stats)==null?void 0:Q.total_youth)||0,average:((I=t==null?void 0:t.stats)==null?void 0:I.avg_youth)||0,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/20",statType:"youth_attendance"},{title:"Kids Total",value:((O=t==null?void 0:t.stats)==null?void 0:O.total_kids)||0,average:((le=t==null?void 0:t.stats)==null?void 0:le.avg_kids)||0,color:"from-pink-500 to-pink-600",bgColor:"bg-pink-500/10",borderColor:"border-pink-500/20",statType:"kids_total"},{title:"Connect Groups",value:((ie=t==null?void 0:t.stats)==null?void 0:ie.total_connect_groups)||0,average:((X=t==null?void 0:t.stats)==null?void 0:X.avg_connect_groups)||0,color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-500/10",borderColor:"border-indigo-500/20",statType:"connect_groups"},{title:"Dream Team",value:((oe=t==null?void 0:t.stats)==null?void 0:oe.total_dream_team)||0,average:((ce=t==null?void 0:t.stats)==null?void 0:ce.avg_dream_team)||0,color:"from-teal-500 to-teal-600",bgColor:"bg-teal-500/10",borderColor:"border-teal-500/20",statType:"dream_team"},{title:"Tithe",value:((de=t==null?void 0:t.stats)==null?void 0:de.total_tithe)||0,average:((ue=t==null?void 0:t.stats)==null?void 0:ue.avg_tithe)||0,color:"from-emerald-500 to-emerald-600",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/20",statType:"tithe"}];return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Monitor your church statistics and performance"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:l,onChange:S=>o(S.target.value),className:"appearance-none bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 pr-10 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[h.length>1&&e.jsx("option",{value:"all_campuses",children:"All Campuses"}),h.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]}),e.jsx(ke,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400 pointer-events-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:i,onChange:S=>B(S.target.value),className:"appearance-none bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 pr-10 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_90_days",children:"Last 90 Days"}),e.jsx("option",{value:"this_year",children:"This Year"}),e.jsx("option",{value:"custom",children:"Custom Date Range"})]}),e.jsx(ke,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400 pointer-events-none"}),i==="custom"&&N()&&e.jsx("div",{className:"absolute -bottom-8 left-0 text-xs text-slate-400 bg-slate-800 px-2 py-1 rounded",children:N()})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map((S,p)=>e.jsxs("div",{className:`
              relative group cursor-pointer
              bg-slate-800/50 backdrop-blur-sm
              border border-slate-700/50 rounded-xl
              p-6 transition-all duration-300
              hover:border-slate-600/50 hover:shadow-xl hover:shadow-slate-900/20
              ${S.bgColor} ${S.borderColor}
            `,onClick:()=>M(S.statType),children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${S.color} opacity-0 group-hover:opacity-10 rounded-xl transition-opacity duration-300`}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-slate-300 text-sm font-medium",children:S.title}),e.jsx("button",{className:"p-1 rounded-full bg-slate-700/50 hover:bg-slate-600/50 transition-colors",children:e.jsx(ne,{className:"h-4 w-4 text-slate-400"})})]}),e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-2xl font-bold text-white",children:S.value.toLocaleString()})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-slate-400",children:["Avg: ",S.average.toFixed(1)]}),e.jsx("div",{className:"w-16 h-1 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-gradient-to-r ${S.color} rounded-full`,style:{width:`${Math.min(S.value/(S.average*10)*100,100)}%`}})})]})]})]},p))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Attendance Trends"}),e.jsx("div",{className:"h-64 bg-slate-700/30 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-400",children:"Chart placeholder"})})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Weekly Breakdown"}),e.jsx("div",{className:"h-64 bg-slate-700/30 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-slate-400",children:"Chart placeholder"})})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Custom Date Range"}),e.jsx("button",{onClick:()=>j(!1),className:"text-slate-400 hover:text-white",children:""})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:b,onChange:S=>R(S.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:f,onChange:S=>d(S.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:E,disabled:!b||!f,className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Apply Date Range"}),e.jsx("button",{onClick:()=>j(!1),className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Cancel"})]})]})]})}),u&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:A(g).title}),e.jsx("button",{onClick:()=>c(!1),className:"text-slate-400 hover:text-white",children:""})]}),e.jsx("div",{className:"space-y-3",children:A(g).items.map((S,p)=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsx("span",{className:"text-slate-300",children:S.label}),e.jsx("span",{className:"text-white font-semibold",children:S.value.toLocaleString()})]},p))})]})})]})},Ae=()=>{const t=a.useRef(null);return a.useEffect(()=>{const s=t.current,r=s.getContext("2d");let n;const l=()=>{s.width=window.innerWidth,s.height=window.innerHeight};l(),window.addEventListener("resize",l);class o{constructor(){this.x=Math.random()*s.width,this.y=Math.random()*s.height,this.vx=(Math.random()-.5)*.5,this.vy=(Math.random()-.5)*.5,this.size=Math.random()*2+1,this.opacity=Math.random()*.3+.1,this.color=`rgba(59, 130, 246, ${this.opacity})`}update(){this.x+=this.vx,this.y+=this.vy,this.x<0&&(this.x=s.width),this.x>s.width&&(this.x=0),this.y<0&&(this.y=s.height),this.y>s.height&&(this.y=0)}draw(){r.beginPath(),r.arc(this.x,this.y,this.size,0,Math.PI*2),r.fillStyle=this.color,r.fill()}}const i=[],x=50;for(let m=0;m<x;m++)i.push(new o);const h=()=>{r.clearRect(0,0,s.width,s.height),i.forEach(m=>{m.update(),m.draw()}),i.forEach((m,u)=>{i.slice(u+1).forEach(c=>{const g=m.x-c.x,k=m.y-c.y,w=Math.sqrt(g*g+k*k);w<100&&(r.beginPath(),r.moveTo(m.x,m.y),r.lineTo(c.x,c.y),r.strokeStyle=`rgba(59, 130, 246, ${.1*(1-w/100)})`,r.lineWidth=1,r.stroke())})}),n=requestAnimationFrame(h)};return h(),()=>{window.removeEventListener("resize",l),cancelAnimationFrame(n)}},[]),e.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:.3}})},xt=({isRecording:t,isHovered:s,children:r})=>{const n=a.useRef(null),l=a.useRef(null),o=a.useRef(null),i=a.useRef(null),x=a.useRef(null),h=a.useRef(null),m=a.useRef(null),u=`
    attribute float size;
    attribute float alpha;
    varying float vAlpha;
    varying vec3 vColor;
    
    void main() {
      vAlpha = alpha;
      vColor = vec3(0.7, 0.9, 1.0); // Light blue color
      vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
      gl_PointSize = size * (300.0 / -mvPosition.z);
      gl_Position = projectionMatrix * mvPosition;
    }
  `,c=`
    varying float vAlpha;
    varying vec3 vColor;
    
    void main() {
      vec2 center = gl_PointCoord - vec2(0.5);
      float dist = length(center);
      
      if (dist > 0.38) discard;
      
      // Create a slightly crisper effect
      float intensity = 1.0 - smoothstep(0.0, 0.38, dist);
      intensity = pow(intensity, 1.3);
      
      // Add a sharper core for better definition
      float core = 1.0 - smoothstep(0.0, 0.18, dist);
      intensity = max(intensity, core * 0.85);
      
      gl_FragColor = vec4(vColor, vAlpha * intensity);
    }
  `;return a.useEffect(()=>{if(!n.current)return;const g=new bt;l.current=g;const k=new gt(75,n.current.clientWidth/n.current.clientHeight,.1,1e3);k.position.z=5;const w=new vt({alpha:!0,antialias:!0});w.setSize(n.current.clientWidth,n.current.clientHeight),w.setClearColor(0,0),o.current=w,n.current.appendChild(w.domElement);const j=300,b=new Float32Array(j*3),R=new Float32Array(j),f=new Float32Array(j),d=new Float32Array(j*3);for(let E=0;E<j;E++){const N=Math.random()*Math.PI*2,y=Math.random()*1.5;b[E*3]=Math.cos(N)*y,b[E*3+1]=Math.sin(N)*y,b[E*3+2]=(Math.random()-.5)*.5,R[E]=Math.random()*.7+.25,f[E]=Math.random()*.75+.35,d[E*3]=(Math.random()-.5)*.01,d[E*3+1]=(Math.random()-.5)*.01,d[E*3+2]=(Math.random()-.5)*.01}m.current=new Float32Array(b),h.current=new Float32Array(b);const C=new jt;C.setAttribute("position",new ve(b,3)),C.setAttribute("size",new ve(R,1)),C.setAttribute("alpha",new ve(f,1));const L=new wt({vertexShader:u,fragmentShader:c,transparent:!0,blending:Nt,depthWrite:!1}),M=new yt(C,L);g.add(M),i.current=M;const A=()=>{x.current=requestAnimationFrame(A);const E=M.geometry.attributes.position.array,N=M.geometry.attributes.alpha.array,y=m.current;h.current;for(let v=0;v<j;v++){E[v*3]+=d[v*3],E[v*3+1]+=d[v*3+1],E[v*3+2]+=d[v*3+2];const $=E[v*3],q=E[v*3+1],K=E[v*3+2];if(Math.abs($)>1.5&&(d[v*3]*=-1),Math.abs(q)>1.5&&(d[v*3+1]*=-1),Math.abs(K)>.5&&(d[v*3+2]*=-1),s){const Y=y[v*3]*.5,Q=y[v*3+1]*.5;E[v*3]+=(Y-E[v*3])*.015,E[v*3+1]+=(Q-E[v*3+1])*.015}else E[v*3]+=(y[v*3]-E[v*3])*.02,E[v*3+1]+=(y[v*3+1]-E[v*3+1])*.02,E[v*3+2]+=(y[v*3+2]-E[v*3+2])*.02;t?(E[v*3]+=(Math.random()-.5)*.015,E[v*3+1]+=(Math.random()-.5)*.015,d[v*3]*=1.02,d[v*3+1]*=1.02,d[v*3]=Math.max(-.03,Math.min(.03,d[v*3])),d[v*3+1]=Math.max(-.03,Math.min(.03,d[v*3+1]))):(d[v*3]*=.99,d[v*3+1]*=.99),t?N[v]=Math.min(.9,N[v]+.02):N[v]=Math.max(.2,N[v]-.008)}M.geometry.attributes.position.needsUpdate=!0,M.geometry.attributes.alpha.needsUpdate=!0,M.rotation.z+=.001,w.render(g,k)};A();const B=()=>{if(!n.current)return;const E=n.current.clientWidth,N=n.current.clientHeight;k.aspect=E/N,k.updateProjectionMatrix(),w.setSize(E,N)};return window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B),x.current&&cancelAnimationFrame(x.current),n.current&&w.domElement&&n.current.removeChild(w.domElement),w.dispose()}},[t,s]),e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{ref:n,className:"absolute inset-0 pointer-events-none",style:{zIndex:20}}),e.jsx("div",{className:"relative z-10",children:r})]})},ir=()=>{const[t,s]=a.useState(!1),[r,n]=a.useState(""),[l,o]=a.useState(""),[i,x]=a.useState(!1),[h,m]=a.useState(!1),[u,c]=a.useState(""),[g,k]=a.useState([]),[w,j]=a.useState(""),[b,R]=a.useState(!1),[f,d]=a.useState({}),[C,L]=a.useState([]),[M,A]=a.useState([]),[B,E]=a.useState([]),[N,y]=a.useState(!1),[v,$]=a.useState(""),[q,K]=a.useState({"Sunday Total":"","New People":"",Salvations:"","Kids Total":"","New Kids":"","Kids Salvations":"","Youth Total":"","Youth NP":"","Youth Salvations":"","Connect Groups":"",Baptisms:""}),[W,Y]=a.useState(!1),[Q,I]=a.useState(!1);a.useRef(null);const O=a.useRef(null);a.useEffect(()=>{if(fetch("/api/campuses",{credentials:"include"}).then(p=>p.json()).then(p=>{p.campuses&&(k(p.campuses),p.default?c(p.default):p.campuses.length>0&&c(p.campuses[0].id))}).catch(p=>console.error("Error loading campuses:",p)),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const p=window.SpeechRecognition||window.webkitSpeechRecognition;O.current=new p,O.current.continuous=!1,O.current.interimResults=!0,O.current.lang="en-US",O.current.onstart=()=>{s(!0),n("")},O.current.onresult=_=>{let ee="",z="";for(let V=_.resultIndex;V<_.results.length;V++){const Ie=_.results[V][0].transcript;_.results[V].isFinal?ee+=Ie:z+=Ie}n(ee||z)},O.current.onerror=_=>{console.error("Speech recognition error:",_.error),s(!1)},O.current.onend=()=>{s(!1),r.trim()&&X()}}},[]);const le=()=>{s(!0),n(""),o(""),m(!1),j(""),d({}),L([]),A([]);try{O.current&&O.current.start()}catch(p){console.error("Error starting recording:",p)}},ie=()=>{s(!1),r.trim()&&X()},X=async()=>{if(r.trim()){x(!0);try{const p=await fetch("/api/process_voice",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:r,campus:u})});if(p.redirected||p.status===302){o("Please log in to use voice logging. Redirecting to login..."),m(!0),setTimeout(()=>{window.location.href="/login"},2e3);return}if(!p.ok){if(p.status===401||p.status===403){o("Authentication required. Please log in."),m(!0),setTimeout(()=>{window.location.href="/login"},2e3);return}throw new Error(`HTTP ${p.status}: ${p.statusText}`)}const _=await p.json();_.success!==!1?(o(_.text||_.response||"Stats logged successfully!"),m(!0),n(""),_.audio_url&&j(_.audio_url),_.stats&&d(_.stats),_.missing_stats&&L(_.missing_stats),_.suggestions&&A(_.suggestions),_.session_stats&&E(_.session_stats)):(o(_.error||"Failed to process voice input"),m(!0))}catch(p){console.error("Error processing voice input:",p),p.message.includes("Unexpected token")?(o("Authentication error. Please log in to continue."),m(!0),setTimeout(()=>{window.location.href="/login"},2e3)):(o(`Error processing voice input: ${p.message}`),m(!0))}finally{x(!1)}}},oe=()=>{if(w){R(!0);const p=new Audio(w);p.onended=()=>R(!1),p.onerror=()=>R(!1),p.play().catch(_=>{console.error("Error playing audio:",_),R(!1)})}},ce=p=>{p.preventDefault(),r.trim()&&X()},de=()=>{m(!1),o(""),j(""),d({}),L([]),A([])},ue=p=>typeof p=="number"?p.toLocaleString():p,S=async()=>{if(!v){alert("Please select a date for the quick input.");return}Y(!0);try{const p=await fetch("/api/quick_input",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({date:v,stats:q,campus:u})});if(p.redirected||p.status===302){o("Please log in to use quick input. Redirecting to login..."),m(!0),setTimeout(()=>{window.location.href="/login"},2e3);return}if(!p.ok){if(p.status===401||p.status===403){o("Authentication required. Please log in."),m(!0),setTimeout(()=>{window.location.href="/login"},2e3);return}throw new Error(`HTTP ${p.status}: ${p.statusText}`)}const _=await p.json();if(_.success!==!1){y(!1),$(""),K({"Sunday Total":"","New People":"",Salvations:"","Kids Total":"","New Kids":"","Kids Salvations":"","Youth Total":"","Youth NP":"","Youth Salvations":"","Connect Groups":"",Baptisms:""}),o(_.text||"Quick input successful!"),m(!0);const ee={campus:u,text:`Quick input: ${Object.entries(q).filter(([z,V])=>V&&V.trim()).map(([z,V])=>`${z}: ${V}`).join(", ")}`,timestamp:new Date().toISOString()};E(z=>[ee,...z])}else o(_.error||"Failed to process quick input"),m(!0)}catch(p){console.error("Error processing quick input:",p),p.message.includes("Unexpected token")?(o("Authentication error. Please log in to continue."),m(!0),setTimeout(()=>{window.location.href="/login"},2e3)):(o(`Error processing quick input: ${p.message}`),m(!0))}finally{Y(!1)}};return e.jsx(xt,{isRecording:t||i,isHovered:Q,children:e.jsxs("div",{className:"min-h-screen p-6",children:[e.jsx(Ae,{}),e.jsxs("div",{className:"clean-layout",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Input"}),e.jsx("p",{className:"text-slate-400",children:"Input church statistics and attendance data"})]}),e.jsxs("div",{className:"main-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Voice Input"}),e.jsx("p",{className:"text-slate-400",children:"Speak your stats naturally"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>y(!0),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(ne,{className:"w-5 h-5"}),e.jsx("span",{children:"Quick Input"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Campus:"}),e.jsx("select",{value:u,onChange:p=>c(p.target.value),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),className:"bg-slate-700/50 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:g.map(p=>e.jsx("option",{value:p.id,children:p.name},p.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:t?ie:le,disabled:i,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),className:`
                      voice-button-large
                      ${t?"bg-red-500 hover:bg-red-600 recording-active":"bg-blue-500 hover:bg-blue-600 shadow-blue-500/50"}
                      ${i?"opacity-50 cursor-not-allowed":"hover:scale-105"}
                    `,children:[e.jsx(ot,{className:"w-8 h-8 text-white"}),t&&e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-red-400 animate-ping"})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Type your stats:"}),e.jsx("textarea",{value:r,onChange:p=>n(p.target.value),placeholder:"Type or speak your stats here... (e.g., '150 people at Salisbury campus, 25 first time visitors, 5 salvations')",onFocus:()=>I(!0),onBlur:()=>I(!1),className:"w-full bg-slate-700/50 border border-slate-600 rounded-xl p-4 text-white placeholder-slate-400 min-h-[120px] resize-none input-focus"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",onClick:ce,disabled:!r.trim()||i,onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),className:"bg-blue-500 hover:bg-blue-600 disabled:bg-slate-600 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(ct,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit"})]})})]})]}),i&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-3 text-blue-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"}),e.jsx("span",{className:"font-medium",children:"Processing..."})]})})]}),e.jsxs("div",{className:"main-card",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-6",children:"Session Stats"}),B.length>0?e.jsx("div",{className:"space-y-4",children:B.map((p,_)=>e.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-4 border border-slate-600/50",children:[e.jsx("div",{className:"text-sm text-slate-400 font-medium mb-1",children:p.campus}),e.jsx("div",{className:"text-white",children:p.text}),e.jsx("div",{className:"text-xs text-slate-500 mt-2",children:new Date(p.timestamp).toLocaleTimeString()})]},_))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-slate-400 text-lg mb-2",children:"No stats logged yet"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Start by using voice input or manual entry above"})]})]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Response"}),e.jsx("button",{onClick:de,className:"text-slate-400 hover:text-white",children:e.jsx(Re,{className:"w-5 h-5"})})]}),w&&e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:oe,disabled:b,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[b?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(Ba,{className:"w-4 h-4"}),e.jsx("span",{children:b?"Playing...":"Play Audio Response"})]})}),e.jsx("p",{className:"text-white mb-4",children:l}),Object.keys(f).length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-white mb-2",children:"Input Stats:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(f).map(([p,_])=>e.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-2",children:[e.jsx("div",{className:"text-sm text-slate-400 capitalize",children:p.replace(/_/g," ")}),e.jsx("div",{className:"text-white font-medium",children:ue(_)})]},p))})]}),C.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-yellow-400 mb-2",children:"Missing Stats:"}),e.jsx("ul",{className:"list-disc list-inside text-yellow-300 space-y-1",children:C.map((p,_)=>e.jsx("li",{children:p},_))})]}),M.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-md font-semibold text-blue-400 mb-2",children:"Suggestions:"}),e.jsx("ul",{className:"list-disc list-inside text-blue-300 space-y-1",children:M.map((p,_)=>e.jsx("li",{children:p},_))})]})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:"Quick Input"}),e.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:e.jsx(Re,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campus:"}),e.jsx("select",{value:u,onChange:p=>c(p.target.value),className:"bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white w-full",children:g.map(p=>e.jsx("option",{value:p.id,children:p.name},p.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Week of:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gs,{className:"w-5 h-5 text-slate-400"}),e.jsx("input",{type:"date",value:v,onChange:p=>$(p.target.value),className:"bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white"})]})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(q).map(([p,_])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-white font-medium min-w-[150px]",children:[p,":"]}),e.jsx("input",{type:"text",inputMode:"numeric",value:_,onChange:ee=>K(z=>({...z,[p]:ee.target.value})),placeholder:"0",className:"bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white text-right w-32 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"})]},p))}),e.jsx("div",{className:"mt-6 p-3 bg-slate-700/30 rounded-lg",children:e.jsx("p",{className:"text-sm text-slate-400",children:"Your number should not have commas or currency symbols"})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsxs("button",{onClick:S,disabled:W,className:"bg-green-500 hover:bg-green-600 disabled:bg-slate-600 disabled:cursor-not-allowed text-white px-6 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[W?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:W?"Submitting...":"Submit"})]})})]})})]})})},or=()=>{const[t,s]=a.useState(!1),[r,n]=a.useState(""),[l,o]=a.useState(!1),[i,x]=a.useState(null),[h,m]=a.useState(!1),[u,c]=a.useState(""),[g,k]=a.useState(!1),[w,j]=a.useState(!1),[b,R]=a.useState([]),[f,d]=a.useState("all_campuses"),C=a.useRef(null);a.useEffect(()=>{fetch("/api/campuses",{credentials:"include"}).then(N=>N.json()).then(N=>{N.campuses&&(R(N.campuses),N.campuses.length>0&&d(N.campuses[0].id))}).catch(N=>console.error("Error fetching campuses:",N))},[]),a.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const N=window.SpeechRecognition||window.webkitSpeechRecognition;C.current=new N,C.current.continuous=!0,C.current.interimResults=!0,C.current.lang="en-US",C.current.onresult=y=>{let v="";for(let $=y.resultIndex;$<y.results.length;$++)y.results[$].isFinal&&(v+=y.results[$][0].transcript);v&&n(v)},C.current.onerror=y=>{console.error("Speech recognition error:",y.error),s(!1)}}},[]);const L=()=>{C.current&&(C.current.start(),s(!0))},M=()=>{C.current&&(C.current.stop(),s(!1))},A=async N=>{if(N.trim()){o(!0);try{const v=await(await fetch("/api/process_voice",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({query:N,campus:f})})).json();x(v),v.audio_url&&c(v.audio_url),m(!0)}catch(y){console.error("Error processing query:",y),x({error:"Failed to process query"}),m(!0)}finally{o(!1)}}},B=()=>{if(u){k(!0);const N=new Audio(u);N.onended=()=>k(!1),N.onerror=()=>k(!1),N.play().catch(y=>{console.error("Error playing audio:",y),k(!1)})}},E=()=>{m(!1),x(null),c("")};return e.jsxs(xt,{isRecording:t||l,isHovered:w,children:[e.jsxs("div",{className:"min-h-screen p-6",children:[e.jsx(Ae,{}),e.jsxs("div",{className:"clean-layout",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Pulse"}),e.jsx("p",{className:"text-slate-400",children:"Ask questions about your church statistics using voice or text"})]}),e.jsxs("div",{className:"main-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Query Settings"}),e.jsx("p",{className:"text-slate-400",children:"Ask questions about your data"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Campus:"}),e.jsxs("select",{value:f,onChange:N=>d(N.target.value),onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),className:"bg-slate-700/50 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[b.length>1&&e.jsx("option",{value:"all_campuses",children:"All"}),b.map(N=>e.jsx("option",{value:N.id,children:N.name},N.id))]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:t?M:L,disabled:l,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),className:`
                      voice-button-large
                      ${t?"bg-red-500 hover:bg-red-600 voice-button-active":"bg-blue-500 hover:bg-blue-600 voice-button-idle"}
                      ${l?"opacity-50 cursor-not-allowed":"hover:scale-105"}
                    `,children:[e.jsx(ot,{className:"w-8 h-8 text-white"}),t&&e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-red-400 animate-ping"})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Or type your question here:"}),e.jsx("textarea",{value:r,onChange:N=>n(N.target.value),placeholder:"Or type your question here...",onFocus:()=>j(!0),onBlur:()=>j(!1),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-4 py-3 text-white placeholder-slate-400 focus:outline-none focus:border-blue-500 transition-all duration-300 hover:border-blue-400 focus:shadow-lg focus:shadow-blue-500/25",rows:"4"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>A(r),disabled:!r.trim()||l,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),className:"bg-blue-500 hover:bg-blue-600 disabled:bg-slate-600 disabled:cursor-not-allowed text-white px-6 py-3 rounded-xl flex items-center space-x-2 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(ct,{className:"w-5 h-5"}),e.jsx("span",{children:"Submit"})]})})]})]}),l&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-3 text-blue-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"}),e.jsx("span",{className:"font-medium",children:"Processing..."})]})})]})]})]}),h&&i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-slate-800/95 backdrop-blur-sm border border-slate-700 rounded-2xl p-8 max-w-4xl w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-semibold text-white",children:"Query Results"}),e.jsx("button",{onClick:E,className:"text-slate-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&e.jsx("div",{className:"mb-6 p-4 bg-slate-700/50 rounded-xl",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:B,disabled:g,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-slate-600 text-white p-3 rounded-full transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),e.jsx("span",{className:"text-white",children:"Listen to response"})]})}),e.jsxs("div",{className:"space-y-6",children:[i.summary&&e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Summary"}),e.jsx("p",{className:"text-slate-300 leading-relaxed",children:i.summary})]}),i.comparison&&i.cross_location&&i.data&&e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Cross-Location Comparison"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-600",children:[e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Stat"}),i.campuses&&i.campuses.map(N=>e.jsx("th",{className:"text-right py-3 px-4 text-slate-300 font-medium",children:N},N))]})}),e.jsx("tbody",{children:i.data&&i.data.map((N,y)=>e.jsxs("tr",{className:"border-b border-slate-600/50",children:[e.jsx("td",{className:"py-3 px-4 text-white font-medium",children:N.stat}),i.campuses&&i.campuses.map(v=>e.jsx("td",{className:"text-right py-3 px-4 text-slate-300",children:N[v]||N[v.replace(/_/g,"")]||N[v.replace(/_/g," ")]||N[v.toLowerCase()]||"0"},v))]},y))})]})})]}),i.data&&!i.cross_location&&e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Data"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-600",children:[e.jsx("th",{className:"text-left py-3 px-4 text-slate-300 font-medium",children:"Stat"}),e.jsx("th",{className:"text-right py-3 px-4 text-slate-300 font-medium",children:"Value"})]})}),e.jsx("tbody",{children:i.data.map((N,y)=>e.jsxs("tr",{className:"border-b border-slate-600/50",children:[e.jsx("td",{className:"py-3 px-4 text-white font-medium",children:N.stat}),e.jsx("td",{className:"text-right py-3 px-4 text-slate-300",children:N.value})]},y))})]})})]}),i.comparison&&!i.cross_location&&e.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Comparison Reports"}),e.jsx("div",{className:"space-y-4",children:i.data&&i.data.map((N,y)=>e.jsxs("div",{className:"border border-slate-600 rounded-lg p-4",children:[e.jsx("h5",{className:"text-white font-medium mb-2",children:N.period}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:Object.entries(N.stats).map(([v,$])=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:v}),e.jsx("span",{className:"text-white font-medium",children:$})]},v))})]},y))})]})]})]})})]})},cr=()=>{var c,g,k,w,j,b,R,f,d,C,L,M,A,B,E,N;const[t,s]=a.useState(null),[r,n]=a.useState(!0),[l,o]=a.useState("all_campuses"),[i,x]=a.useState([]);a.useEffect(()=>{fetch("/api/campuses",{credentials:"include"}).then(y=>y.json()).then(y=>{y.campuses&&(x(y.campuses),y.default&&l==="all_campuses"&&o(y.default))}).catch(y=>console.error("Error loading campuses:",y))},[]),a.useEffect(()=>{h();const y=setInterval(h,3e4);return()=>clearInterval(y)},[l]);const h=async()=>{try{n(!0);const v=await(await fetch(`/api/stats?campus=${l}`,{credentials:"include"})).json();v.stats&&s(v.stats)}catch(y){console.error("Error fetching pulse data:",y)}finally{n(!1)}},u=t?((y,v,$)=>y>0&&v>0&&$>0?{status:"strong",color:"text-green-400",bgColor:"bg-green-500/20",icon:"text-green-400"}:y>0&&(v>0||$>0)?{status:"steady",color:"text-yellow-400",bgColor:"bg-yellow-500/20",icon:"text-yellow-400"}:y>0?{status:"stable",color:"text-blue-400",bgColor:"bg-blue-500/20",icon:"text-blue-400"}:{status:"no data",color:"text-slate-400",bgColor:"bg-slate-500/20",icon:"text-slate-400"})(t.total_attendance||0,t.new_people||0,t.new_christians||0):{status:"loading",color:"text-slate-400",bgColor:"bg-slate-500/20",icon:"text-slate-400"};return e.jsxs("div",{className:"relative min-h-screen",children:[e.jsx(Ae,{}),e.jsxs("div",{className:"relative z-10 space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Heartbeat"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"Real-time church pulse and heartbeat"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 shadow-xl mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Campus Pulse"}),e.jsx("p",{className:"text-slate-400",children:"Monitor real-time statistics"})]}),e.jsxs("select",{value:l,onChange:y=>o(y.target.value),className:"bg-slate-700/50 border border-slate-600 rounded-xl px-6 py-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.length>1&&e.jsx("option",{value:"all_campuses",children:"All Campuses"}),i.map(y=>e.jsx("option",{value:y.id,children:y.name},y.id))]})]})}),r?e.jsx("div",{className:"text-center py-16",children:e.jsxs("div",{className:"inline-flex items-center space-x-3 text-blue-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),e.jsx("span",{className:"text-xl font-medium",children:"Loading pulse data..."})]})}):t?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"md:col-span-2 lg:col-span-1",children:e.jsxs("div",{className:`${u.bgColor} backdrop-blur-sm border border-slate-700/50 rounded-2xl p-8 shadow-xl`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-semibold text-white mb-2",children:"Pulse Status"}),e.jsx("p",{className:`text-lg font-medium ${u.color}`,children:u.status.charAt(0).toUpperCase()+u.status.slice(1)})]}),e.jsx(Se,{className:`w-12 h-12 ${u.icon} animate-pulse`})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Total Attendance"}),e.jsx("span",{className:"text-white font-semibold text-lg",children:((c=t.total_attendance)==null?void 0:c.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"New People"}),e.jsx("span",{className:"text-white font-semibold text-lg",children:((g=t.new_people)==null?void 0:g.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"New Christians"}),e.jsx("span",{className:"text-white font-semibold text-lg",children:((k=t.new_christians)==null?void 0:k.toLocaleString())||"0"})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(sr,{className:"w-6 h-6 text-blue-400"}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Attendance"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Total"}),e.jsx("span",{className:"text-white font-medium",children:((w=t.total_attendance)==null?void 0:w.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"First Time"}),e.jsx("span",{className:"text-white font-medium",children:((j=t.first_time_visitors)==null?void 0:j.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Information"}),e.jsx("span",{className:"text-white font-medium",children:((b=t.information_gathered)==null?void 0:b.toLocaleString())||"0"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Ws,{className:"w-6 h-6 text-green-400"}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Growth"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"New People"}),e.jsx("span",{className:"text-white font-medium",children:((R=t.new_people)==null?void 0:R.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"New Christians"}),e.jsx("span",{className:"text-white font-medium",children:((f=t.new_christians)==null?void 0:f.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Rededications"}),e.jsx("span",{className:"text-white font-medium",children:((d=t.rededications)==null?void 0:d.toLocaleString())||"0"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(lt,{className:"w-6 h-6 text-purple-400"}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Youth & Kids"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Youth Attendance"}),e.jsx("span",{className:"text-white font-medium",children:((C=t.youth_attendance)==null?void 0:C.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Youth Salvations"}),e.jsx("span",{className:"text-white font-medium",children:((L=t.youth_salvations)==null?void 0:L.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Kids Attendance"}),e.jsx("span",{className:"text-white font-medium",children:((M=t.kids_attendance)==null?void 0:M.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Kids Salvations"}),e.jsx("span",{className:"text-white font-medium",children:((A=t.kids_salvations)==null?void 0:A.toLocaleString())||"0"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Se,{className:"w-6 h-6 text-red-400"}),e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Engagement"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Connect Groups"}),e.jsx("span",{className:"text-white font-medium",children:((B=t.connect_groups)==null?void 0:B.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Dream Team"}),e.jsx("span",{className:"text-white font-medium",children:((E=t.dream_team)==null?void 0:E.toLocaleString())||"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Baptisms"}),e.jsx("span",{className:"text-white font-medium",children:((N=t.baptisms)==null?void 0:N.toLocaleString())||"0"})]})]})]})]})]}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-slate-400 text-xl mb-4",children:"No pulse data available"}),e.jsx("p",{className:"text-slate-500",children:"Try selecting a different campus or check back later"})]})]})]})]})},dr=()=>{const[t,s]=a.useState(null),[r,n]=a.useState(!0),[l,o]=a.useState("all_campuses"),[i,x]=a.useState([]);a.useEffect(()=>{fetch("/api/campuses",{credentials:"include"}).then(c=>c.json()).then(c=>{c.campuses&&(x(c.campuses),c.default&&l==="all_campuses"&&o(c.default))}).catch(c=>console.error("Error loading campuses:",c))},[]),a.useEffect(()=>{h()},[l]);const h=async()=>{try{n(!0);const g=await(await fetch(`/api/stats?campus=${l}`,{credentials:"include"})).json();g.stats&&s(g.stats)}catch(c){console.error("Error fetching journey data:",c)}finally{n(!1)}},m=[{id:"visitor",name:"Visitor",icon:fe,color:"blue",description:"First-time visitors to the church",count:(t==null?void 0:t.new_people)||0},{id:"new_christian",name:"New Christian",icon:Ha,color:"purple",description:"New believers and rededications",count:(t==null?void 0:t.new_christians)||0},{id:"connected",name:"Connected",icon:_a,color:"green",description:"People in connect groups",count:(t==null?void 0:t.connect_groups)||0},{id:"serving",name:"Serving",icon:pa,color:"orange",description:"Dream team members",count:(t==null?void 0:t.dream_team)||0}],u=c=>{const g={blue:"bg-blue-500/10 border-blue-500/20 text-blue-400",purple:"bg-purple-500/10 border-purple-500/20 text-purple-400",green:"bg-green-500/10 border-green-500/20 text-green-400",orange:"bg-orange-500/10 border-orange-500/20 text-orange-400"};return g[c]||g.blue};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Passport"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Track member journey and spiritual growth"})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Journey Overview"}),e.jsxs("select",{value:l,onChange:c=>o(c.target.value),className:"bg-slate-700/50 border border-slate-600 rounded-lg px-4 py-2 text-white",children:[i.length>1&&e.jsx("option",{value:"all_campuses",children:"All Campuses"}),i.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]})]}),r?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 text-blue-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),e.jsx("span",{children:"Loading journey data..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m.map((c,g)=>e.jsxs("div",{className:`${u(c.color)} border rounded-xl p-6`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(c.icon,{className:"w-8 h-8"}),g<m.length-1&&e.jsx(Bs,{className:"w-5 h-5 text-slate-400"})]}),e.jsx("div",{className:"text-2xl font-bold text-white mb-2",children:c.count}),e.jsx("div",{className:"text-white font-medium mb-1",children:c.name}),e.jsx("div",{className:"text-slate-400 text-sm",children:c.description})]},c.id))}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Journey Flow"}),e.jsx("div",{className:"flex items-center justify-center space-x-4",children:m.map((c,g)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${u(c.color)}`,children:e.jsx(c.icon,{className:"w-8 h-8"})}),g<m.length-1&&e.jsx("div",{className:"w-12 h-0.5 bg-slate-600 mx-2"})]},c.id))}),e.jsx("div",{className:"flex justify-center mt-4 space-x-8",children:m.map(c=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-white font-medium",children:c.name}),e.jsx("div",{className:"text-slate-400 text-sm",children:c.count})]},c.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Growth Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsx("span",{className:"text-slate-300",children:"Conversion Rate"}),e.jsx("span",{className:"text-white font-semibold",children:(t==null?void 0:t.new_christians)>0&&(t==null?void 0:t.new_people)>0?`${Math.round(t.new_christians/t.new_people*100)}%`:"0%"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsx("span",{className:"text-slate-300",children:"Connection Rate"}),e.jsx("span",{className:"text-white font-semibold",children:(t==null?void 0:t.connect_groups)>0&&(t==null?void 0:t.total_attendance)>0?`${Math.round(t.connect_groups/t.total_attendance*100)}%`:"0%"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Journey Health"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsx("span",{className:"text-slate-300",children:"Visitor Engagement"}),e.jsx("span",{className:"text-white font-semibold",children:(t==null?void 0:t.new_people)>0?"Active":"Needs Focus"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsx("span",{className:"text-slate-300",children:"Spiritual Growth"}),e.jsx("span",{className:"text-white font-semibold",children:(t==null?void 0:t.new_christians)>0?"Strong":"Opportunity"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Journey Goals"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-slate-700/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400 mb-2",children:"25%"}),e.jsx("div",{className:"text-white font-medium",children:"Visitor to Christian"}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Conversion Target"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-700/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400 mb-2",children:"60%"}),e.jsx("div",{className:"text-white font-medium",children:"Connected Members"}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Group Participation"})]}),e.jsxs("div",{className:"text-center p-4 bg-slate-700/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-400 mb-2",children:"40%"}),e.jsx("div",{className:"text-white font-medium",children:"Serving Members"}),e.jsx("div",{className:"text-slate-400 text-sm",children:"Dream Team Target"})]})]})]})]})},ur=()=>{const[t,s]=a.useState([]),[r,n]=a.useState(!0),[l,o]=a.useState(!1),[i,x]=a.useState(!1),[h,m]=a.useState(null),[u,c]=a.useState({username:"",password:"",email:"",full_name:"",role:"campus_pastor",campus:"all_campuses",permissions:[]});a.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const d=await fetch("/api/users",{credentials:"include"});if(d.ok){const C=await d.json();s(C.users||[])}}catch(d){console.error("Error fetching users:",d)}finally{n(!1)}},k=async d=>{d.preventDefault();try{(await fetch("/api/users/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"include"})).ok&&(o(!1),c({username:"",password:"",email:"",full_name:"",role:"campus_pastor",campus:"all_campuses",permissions:[]}),g())}catch(C){console.error("Error creating user:",C)}},w=async d=>{d.preventDefault();try{(await fetch(`/api/users/${h.id}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"include"})).ok&&(x(!1),m(null),c({username:"",password:"",email:"",full_name:"",role:"campus_pastor",campus:"all_campuses",permissions:[]}),g())}catch(C){console.error("Error updating user:",C)}},j=async d=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await fetch(`/api/users/${d}/delete`,{method:"POST",credentials:"include"})).ok&&g()}catch(C){console.error("Error deleting user:",C)}},b=d=>{m(d),c({username:d.username,password:"",email:d.email||"",full_name:d.full_name||d.username,role:d.role,campus:d.campus||"all_campuses",permissions:d.permissions||[]}),x(!0)},R=[{id:"admin",name:"Admin",description:"Full system access"},{id:"senior_pastor",name:"Senior Pastor",description:"Network leadership access"},{id:"lead_pastor",name:"Lead Pastor",description:"Campus leadership access"},{id:"campus_pastor",name:"Campus Pastor",description:"Campus-specific access"},{id:"finance",name:"Finance",description:"Finance team access"}],f=d=>{const C={admin:"bg-red-500/10 text-red-400 border-red-500/20",senior_pastor:"bg-purple-500/10 text-purple-400 border-purple-500/20",lead_pastor:"bg-blue-500/10 text-blue-400 border-blue-500/20",campus_pastor:"bg-green-500/10 text-green-400 border-green-500/20",finance:"bg-orange-500/10 text-orange-400 border-orange-500/20"};return C[d]||C.campus_pastor};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Users"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Manage user accounts and permissions"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Add User"})]})]}),e.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:r?e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 text-blue-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),e.jsx("span",{children:"Loading users..."})]})}):e.jsxs("div",{className:"space-y-4",children:[t.map(d=>{var C;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-full flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-white font-medium",children:d.username}),e.jsx("div",{className:"text-slate-400 text-sm",children:d.email||"No email"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${f(d.role)}`,children:((C=R.find(L=>L.id===d.role))==null?void 0:C.name)||d.role}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>b(d),className:"p-2 text-slate-400 hover:text-blue-400 hover:bg-slate-700/50 rounded-lg transition-colors",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(d.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/50 rounded-lg transition-colors",children:e.jsx(mt,{className:"w-4 h-4"})})]})]})]},d.id)}),t.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Ee,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Users Found"}),e.jsx("p",{className:"text-slate-400",children:"Create your first user to get started"})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Create New User"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:u.username,onChange:d=>c({...u,username:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:u.password,onChange:d=>c({...u,password:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:u.email,onChange:d=>c({...u,email:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",placeholder:"user@futures.church"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:u.full_name,onChange:d=>c({...u,full_name:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",placeholder:"Full Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role"}),e.jsx("select",{value:u.role,onChange:d=>c({...u,role:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",children:R.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campus"}),e.jsxs("select",{value:u.campus,onChange:d=>c({...u,campus:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",children:[e.jsx("option",{value:"",children:"Select Campus"}),e.jsx("option",{value:"all_campuses",children:"All Campuses"}),e.jsx("option",{value:"paradise",children:"Paradise"}),e.jsx("option",{value:"adelaide_city",children:"Adelaide City"}),e.jsx("option",{value:"salisbury",children:"Salisbury"}),e.jsx("option",{value:"south",children:"South"}),e.jsx("option",{value:"mount_barker",children:"Mount Barker"}),e.jsx("option",{value:"clare_valley",children:"Clare Valley"}),e.jsx("option",{value:"victor_harbour",children:"Victor Harbour"}),e.jsx("option",{value:"copper_coast",children:"Copper Coast"}),e.jsx("option",{value:"online",children:"Online"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Create User"})]})]})]})}),i&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Edit User"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:u.username,onChange:d=>c({...u,username:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password (leave blank to keep current)"}),e.jsx("input",{type:"password",value:u.password,onChange:d=>c({...u,password:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:u.email,onChange:d=>c({...u,email:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",placeholder:"user@futures.church"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:u.full_name,onChange:d=>c({...u,full_name:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",placeholder:"Full Name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Role"}),e.jsx("select",{value:u.role,onChange:d=>c({...u,role:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",children:R.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campus"}),e.jsxs("select",{value:u.campus,onChange:d=>c({...u,campus:d.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",children:[e.jsx("option",{value:"",children:"Select Campus"}),e.jsx("option",{value:"all_campuses",children:"All Campuses"}),e.jsx("option",{value:"paradise",children:"Paradise"}),e.jsx("option",{value:"adelaide_city",children:"Adelaide City"}),e.jsx("option",{value:"salisbury",children:"Salisbury"}),e.jsx("option",{value:"south",children:"South"}),e.jsx("option",{value:"mount_barker",children:"Mount Barker"}),e.jsx("option",{value:"clare_valley",children:"Clare Valley"}),e.jsx("option",{value:"victor_harbour",children:"Victor Harbour"}),e.jsx("option",{value:"copper_coast",children:"Copper Coast"}),e.jsx("option",{value:"online",children:"Online"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Update User"})]})]})]})})]})},mr=()=>{const[t,s]=a.useState([]),[r,n]=a.useState(!0),[l,o]=a.useState(!1),[i,x]=a.useState(!1),[h,m]=a.useState(null),[u,c]=a.useState({name:"",address:"",status:"active",pastor:""});a.useEffect(()=>{g()},[]);const g=async()=>{try{n(!0);const f=await fetch("/api/campuses",{credentials:"include"});if(f.ok){const d=await f.json();s(d.campuses||[])}}catch(f){console.error("Error fetching campuses:",f)}finally{n(!1)}},k=async f=>{f.preventDefault();try{(await fetch("/api/campuses/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"include"})).ok&&(o(!1),c({name:"",address:"",status:"active",pastor:""}),g())}catch(d){console.error("Error creating campus:",d)}},w=async f=>{f.preventDefault();try{(await fetch(`/api/campuses/${h.id}/edit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u),credentials:"include"})).ok&&(x(!1),m(null),c({name:"",address:"",status:"active",pastor:""}),g())}catch(d){console.error("Error updating campus:",d)}},j=async f=>{if(window.confirm("Are you sure you want to delete this campus?"))try{(await fetch(`/api/campuses/${f}/delete`,{method:"POST",credentials:"include"})).ok&&g()}catch(d){console.error("Error deleting campus:",d)}},b=f=>{m(f),c({name:f.name,address:f.address||"",status:f.status||"active",pastor:f.pastor||""}),x(!0)},R=f=>{const d={active:"bg-green-500/10 text-green-400 border-green-500/20",inactive:"bg-red-500/10 text-red-400 border-red-500/20",pending:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"};return d[f]||d.active};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Campuses"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Manage church campuses and locations"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[e.jsx(ne,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Campus"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?e.jsx("div",{className:"col-span-full text-center py-12",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 text-blue-400",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"}),e.jsx("span",{children:"Loading campuses..."})]})}):t.length>0?t.map(f=>e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:f.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${R(f.status)}`,children:f.status})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>b(f),className:"p-2 text-slate-400 hover:text-blue-400 hover:bg-slate-700/50 rounded-lg transition-colors",children:e.jsx(dt,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(f.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-700/50 rounded-lg transition-colors",children:e.jsx(mt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[f.address&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Sa,{className:"w-4 h-4 text-slate-400 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-slate-300 text-sm",children:f.address})]}),f.pastor&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-slate-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-slate-400 text-xs",children:""})}),e.jsxs("span",{className:"text-slate-300 text-sm",children:["Pastor: ",f.pastor]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 bg-slate-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-slate-400 text-xs",children:""})}),e.jsxs("span",{className:"text-slate-300 text-sm",children:["Campus ID: ",f.id]})]})]})]},f.id)):e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pe,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Campuses Found"}),e.jsx("p",{className:"text-slate-400",children:"Create your first campus to get started"})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Create New Campus"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campus Name"}),e.jsx("input",{type:"text",value:u.name,onChange:f=>c({...u,name:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:u.address,onChange:f=>c({...u,address:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:u.status,onChange:f=>c({...u,status:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Pastor"}),e.jsx("input",{type:"text",value:u.pastor,onChange:f=>c({...u,pastor:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Create Campus"})]})]})]})}),i&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Edit Campus"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Campus Name"}),e.jsx("input",{type:"text",value:u.name,onChange:f=>c({...u,name:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Address"}),e.jsx("input",{type:"text",value:u.address,onChange:f=>c({...u,address:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),e.jsxs("select",{value:u.status,onChange:f=>c({...u,status:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"pending",children:"Pending"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Pastor"}),e.jsx("input",{type:"text",value:u.pastor,onChange:f=>c({...u,pastor:f.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-white"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Update Campus"})]})]})]})})]})},hr=()=>{const[t,s]=a.useState("user"),[r,n]=a.useState("");G(),a.useEffect(()=>{(async()=>{try{const x=await(await fetch("/api/session",{credentials:"include"})).json();x.authenticated&&(s(x.role||"user"),n(x.full_name||"User"))}catch(i){console.error("Error fetching session data:",i)}})()},[]);const l=[{title:"General",items:[{name:"Notifications",href:"/settings/notifications",icon:nt,description:"Manage your notification preferences"},{name:"Profile",href:"/settings/profile",icon:fe,description:"Update your personal information"}]}];return t==="admin"&&l.push({title:"Administration",items:[{name:"Users",href:"/users",icon:ht,description:"Manage user accounts and permissions"},{name:"Campuses",href:"/campuses",icon:pe,description:"Manage campus locations and settings"},{name:"Security",href:"/settings/security",icon:ut,description:"Configure security settings"}]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(xe,{to:"/dashboard",className:"mr-4 p-2 rounded-lg bg-slate-800 hover:bg-slate-700 transition-colors",children:e.jsx($s,{className:"h-5 w-5 text-slate-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),e.jsx("p",{className:"text-slate-400",children:"Manage your account and preferences"})]})]}),e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:r.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:r}),e.jsx("p",{className:"text-slate-400 capitalize",children:t})]})]})})]}),e.jsx("div",{className:"space-y-8",children:l.map(o=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:o.title}),e.jsx("div",{className:"grid gap-4",children:o.items.map(i=>e.jsxs(xe,{to:i.href,className:"flex items-center p-6 bg-slate-800/50 border border-slate-700 rounded-xl hover:border-slate-600 hover:bg-slate-800 transition-all duration-200 group",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-slate-700 rounded-lg mr-4 group-hover:bg-slate-600 transition-colors",children:e.jsx(i.icon,{className:"h-6 w-6 text-slate-400 group-hover:text-white transition-colors"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-white group-hover:text-blue-400 transition-colors",children:i.name}),e.jsx("p",{className:"text-slate-400 text-sm",children:i.description})]}),e.jsx("div",{className:"text-slate-400 group-hover:text-white transition-colors",children:e.jsx(it,{className:"h-5 w-5"})})]},i.name))})]},o.title))})]})};class xr extends Ze.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,r){console.error("React Error:",s,r)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Please refresh the page"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg",children:"Refresh"})]})}):this.props.children}}const U=({children:t})=>{const[s,r]=a.useState(null),[n,l]=a.useState(!0);return a.useEffect(()=>{(async()=>{try{const i=await fetch("/api/session",{credentials:"include"});if(i.ok){const x=await i.json();r(x.authenticated||x.user!=="guest")}else r(!1)}catch(i){console.error("Auth check error:",i),r(!1)}finally{l(!1)}})()},[]),n?e.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{children:"Loading..."})]})}):s?t:e.jsx(gs,{to:"/login",replace:!0})};function pr(){return e.jsx(xr,{children:e.jsx(Es,{children:e.jsxs(js,{children:[e.jsx(T,{path:"/login",element:e.jsx(nr,{})}),e.jsx(T,{path:"/",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(ir,{})})})}),e.jsx(T,{path:"/dashboard",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(lr,{})})})}),e.jsx(T,{path:"/heartbeat",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(cr,{})})})}),e.jsx(T,{path:"/journey",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(dr,{})})})}),e.jsx(T,{path:"/query",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(or,{})})})}),e.jsx(T,{path:"/users",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(ur,{})})})}),e.jsx(T,{path:"/campuses",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(mr,{})})})}),e.jsx(T,{path:"/settings",element:e.jsx(U,{children:e.jsx(F,{children:e.jsx(hr,{})})})}),e.jsx(T,{path:"/settings/notifications",element:e.jsx(U,{children:e.jsx(F,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Notifications"}),e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:e.jsx("p",{className:"text-slate-400",children:"Notification settings coming soon..."})})]})})})}),e.jsx(T,{path:"/settings/profile",element:e.jsx(U,{children:e.jsx(F,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Profile"}),e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:e.jsx("p",{className:"text-slate-400",children:"Profile settings coming soon..."})})]})})})}),e.jsx(T,{path:"/settings/security",element:e.jsx(U,{children:e.jsx(F,{children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Security"}),e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6",children:e.jsx("p",{className:"text-slate-400",children:"Security settings coming soon..."})})]})})})})]})})})}we.createRoot(document.getElementById("root")).render(e.jsx(Ze.StrictMode,{children:e.jsx(pr,{})}));
